<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title>CORS Tester</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
  <script src="https://www.google.com/recaptcha/api.js" async defer></script>
</head>
<body>
  <H2>To view test result</H2>
  <h3>Right click this page > Inspect Element > Console </h3>
  <p id="out"></p>

  <script>
  console.log("starting ajax request to the resource.");
  $.ajax
      ({type: "GET",                     //edit method
	      //crossDomain: true,
          contentType: "json",           //edit datatype: json, html, etc.dataType: "json",
          url: "http://localhost:54200/cors/test", //edit host and port, example: http://198.0.1.20:8443/pat
        headers: {                       //add any headers here
          "X-AMEX-API-KEY":"test",
          "Authorization":"test"},
          xhrFields: {                   //optional
                withCredentials: true
            },
      success: function(data)
      {
        console.log("API is CORS enabled, here's the result");
        console.log(data);
        $('#out').text(JSON.stringify(data));
      },
          done: function( jqXHR, textStatus ) {
          console.log( "Request failed: " + textStatus + jqXHR );
      },
    });
  console.log("ajax request sent.");
  </script>
  
  <!--form action="?" method="POST">
      <div class="g-recaptcha" data-sitekey="6Lc1tskZAAAAAPQ0VJtu9G2SYXLZ1D_585i9qbjz"></div>
      <br/>
      <input type="submit" value="Submit">
    </form-->
  
</body>
</html>

